<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decision Matrix - Make Better Decisions</title>
    <meta name="description" content="A simple decision matrix tool to help you make better decisions by comparing options against weighted criteria.">
    <meta name="theme-color" content="#2563eb">
    <!-- Critical CSS inlined for above-the-fold content -->
    <style>*{margin:0;padding:0;box-sizing:border-box}html{scroll-behavior:smooth}.skip-link{position:absolute;top:-40px;left:0;background:var(--primary-color);color:white;padding:0.5rem 1rem;text-decoration:none;z-index:10000;font-weight:600;border-radius:0 0 0.25rem 0}.skip-link:focus{top:0}.visually-hidden{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}:root{--primary-color:#2563eb;--primary-hover:#1d4ed8;--secondary-color:#64748b;--background:#f8fafc;--surface:#ffffff;--text-primary:#1e293b;--text-secondary:#64748b;--border:#e2e8f0;--success:#10b981;--danger:#ef4444;--shadow:0 1px 3px 0 rgba(0,0,0,0.1),0 1px 2px 0 rgba(0,0,0,0.06);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05)}[data-theme="dark"]{--primary-color:#3b82f6;--primary-hover:#2563eb;--secondary-color:#94a3b8;--background:#0f172a;--surface:#1e293b;--text-primary:#f1f5f9;--text-secondary:#94a3b8;--border:#334155;--success:#34d399;--danger:#f87171;--shadow:0 1px 3px 0 rgba(0,0,0,0.3),0 1px 2px 0 rgba(0,0,0,0.2);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.3),0 4px 6px -2px rgba(0,0,0,0.2)}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:var(--background);color:var(--text-primary);line-height:1.6;min-height:100vh;padding-top:70px;transition:background-color 0.3s ease,color 0.3s ease}.navbar{position:fixed;top:0;left:0;width:100%;background:var(--surface);box-shadow:var(--shadow);z-index:1000;transition:background-color 0.3s ease,box-shadow 0.3s ease}.nav-container{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem}.nav-brand{display:flex;align-items:center;gap:0.5rem;font-size:1.25rem;font-weight:700;color:var(--text-primary)}.nav-logo{font-size:1.5rem}.nav-title{color:var(--primary-color)}.nav-menu{display:flex;list-style:none;gap:2rem;margin:0;align-items:center}.nav-link{color:var(--text-primary);text-decoration:none;font-weight:500;font-size:0.95rem;transition:color 0.3s ease}.nav-toggle{display:none}.theme-toggle{background:var(--surface);border:2px solid var(--border);border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.2rem;transition:all 0.3s ease;padding:0}.container{max-width:1200px;margin:0 auto;padding:2rem 1rem}header{text-align:center;margin-bottom:3rem;padding:2rem 0}h1{font-size:2.5rem;font-weight:700;color:var(--text-primary);margin-bottom:0.5rem}.subtitle{font-size:1.125rem;color:var(--text-secondary)}section{background:var(--surface);border-radius:0.5rem;padding:2rem;margin-bottom:2rem;box-shadow:var(--shadow);transition:background-color 0.3s ease,box-shadow 0.3s ease}h2{font-size:1.5rem;font-weight:600;margin-bottom:0.5rem;color:var(--text-primary)}.help-text{color:var(--text-secondary);font-size:0.875rem;margin-bottom:1rem}.setup-section{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.input-group{display:flex;flex-direction:column}button{transition:all 0.3s ease}@media (max-width:1024px){.nav-toggle{display:flex}}@media (max-width:768px){body{padding-top:60px}.setup-section{grid-template-columns:1fr}}@media (max-width:480px){body{padding-top:55px}h1{font-size:1.5rem}}@media (prefers-reduced-motion:reduce){*,*::before,*::after{animation-duration:0.01ms!important;animation-iteration-count:1!important;transition-duration:0.01ms!important}}</style>
    <!-- Load non-critical CSS asynchronously -->
    <link rel="preload" href="styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="styles.css"></noscript>
</head>
<body>
    <!-- Skip to main content link for keyboard users -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <nav class="navbar" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="nav-brand">
                <span class="nav-logo" role="img" aria-label="Chart icon">üìä</span>
                <span class="nav-title">Decision Matrix</span>
            </div>
            <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-menu">
                <span class="hamburger" aria-hidden="true"></span>
                <span class="hamburger" aria-hidden="true"></span>
                <span class="hamburger" aria-hidden="true"></span>
            </button>
            <ul class="nav-menu" id="nav-menu" role="menubar">
                <li class="nav-item" role="none"><a href="#home" class="nav-link" role="menuitem">Home</a></li>
                <li class="nav-item" role="none"><a href="#setup" class="nav-link" role="menuitem">Setup</a></li>
                <li class="nav-item" role="none"><a href="#matrix-section" class="nav-link" role="menuitem">Matrix</a></li>
                <li class="nav-item" role="none"><a href="#results-section" class="nav-link" role="menuitem">Results</a></li>
                <li class="nav-item" role="none"><a href="#about" class="nav-link" role="menuitem">About</a></li>
                <li class="nav-item" role="none">
                    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode" aria-pressed="false" title="Toggle dark mode">
                        <span id="theme-icon" aria-hidden="true">üåô</span>
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <header id="home" role="banner">
            <h1>Decision Matrix</h1>
            <p class="subtitle">Make better decisions by comparing options against weighted criteria</p>
        </header>

        <main id="main-content" role="main">
            <section class="setup-section" id="setup" aria-labelledby="setup-heading">
                <h2 id="setup-heading" class="visually-hidden">Setup Your Decision Matrix</h2>
                <div class="input-group">
                    <h3>Options</h3>
                    <p class="help-text">What choices are you comparing? Add at least 2 options with descriptive names.</p>
                    <div id="options-container" role="list" aria-label="List of options">
                        <!-- Options will be added here dynamically -->
                    </div>
                    <button class="btn-secondary" id="add-option" aria-label="Add a new option">+ Add Option</button>
                </div>

                <div class="input-group">
                    <h3>Criteria</h3>
                    <p class="help-text">What factors are important for your decision? Set weights (1-10) where higher = more important.</p>
                    <div id="criteria-container" role="list" aria-label="List of criteria">
                        <!-- Criteria will be added here dynamically -->
                    </div>
                    <button class="btn-secondary" id="add-criterion" aria-label="Add a new criterion">+ Add Criterion</button>
                </div>
            </section>

            <section class="matrix-section" id="matrix-section" aria-labelledby="matrix-heading">
                <h2 id="matrix-heading">Rate Your Options</h2>
                <p class="help-text">Rate each option (1-10) for each criterion. All fields are required before calculating results.</p>
                <div class="matrix-scroll" role="region" aria-label="Decision matrix table" tabindex="0">
                    <table id="decision-matrix" role="table" aria-describedby="matrix-heading">
                        <!-- Matrix will be generated here -->
                    </table>
                </div>
            </section>

            <section class="results-section" id="results-section" aria-labelledby="results-heading" aria-live="polite" aria-atomic="true">
                <h2 id="results-heading">Results</h2>
                <div id="results-container" role="region" aria-label="Calculation results">
                    <!-- Results will be displayed here -->
                </div>
            </section>

            <section class="actions-section" aria-labelledby="actions-heading">
                <h2 id="actions-heading" class="visually-hidden">Actions</h2>
                <button class="btn-primary" id="calculate-btn" aria-label="Calculate results from your ratings">Calculate Results</button>
                <button class="btn-secondary" id="reset-btn" aria-label="Reset all data and start over">Reset All</button>
                <button class="btn-secondary" id="share-btn" aria-label="Copy shareable link to clipboard">Copy Share Link</button>
            </section>

            <section class="storage-section" aria-labelledby="storage-heading">
                <h2 id="storage-heading">Save & Load</h2>
                <p class="help-text">Save your matrix to browser storage or load a previously saved matrix</p>
                <div class="button-group">
                    <button class="btn-secondary" id="save-local-btn" aria-label="Save decision matrix to browser storage">
                        <span aria-hidden="true">üíæ</span> Save to Browser
                    </button>
                    <button class="btn-secondary" id="load-local-btn" aria-label="Load decision matrix from browser storage">
                        <span aria-hidden="true">üìÇ</span> Load from Browser
                    </button>
                </div>
            </section>

            <section class="export-section" aria-labelledby="export-heading">
                <h2 id="export-heading">Export Matrix</h2>
                <p class="help-text">Download your decision matrix in different formats</p>
                <div class="button-group">
                    <button class="btn-secondary" id="export-json-btn" aria-label="Export decision matrix as JSON file">
                        <span aria-hidden="true">üìÑ</span> Export as JSON
                    </button>
                    <button class="btn-secondary" id="export-csv-btn" aria-label="Export decision matrix as CSV file">
                        <span aria-hidden="true">üìä</span> Export as CSV
                    </button>
                    <button class="btn-secondary" id="export-text-btn" aria-label="Export decision matrix as plain text file">
                        <span aria-hidden="true">üìù</span> Export as Text
                    </button>
                </div>
            </section>

            <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>
        </main>

        <section id="about" class="about-section" aria-labelledby="about-heading">
            <h2 id="about-heading">About Decision Matrix</h2>
            <p>This tool helps you make informed decisions by comparing multiple options against weighted criteria. Simply add your options, define important criteria with weights, rate each option, and let the matrix calculate the best choice for you.</p>
            <p><strong>Privacy First:</strong> All data is stored in the URL - no backend, no tracking, complete privacy.</p>
            
            <h3 style="margin-top: 1.5rem; margin-bottom: 0.5rem;">‚å®Ô∏è Keyboard Shortcuts</h3>
            <ul style="list-style: none; padding-left: 0; color: var(--text-secondary); font-size: 0.875rem;" aria-label="Available keyboard shortcuts">
                <li style="padding: 0.25rem 0;"><span aria-hidden="true">‚Ä¢</span> <kbd>Ctrl+Enter</kbd> or <kbd>‚åò+Enter</kbd> <span aria-label="hyphen">-</span> Calculate results</li>
                <li style="padding: 0.25rem 0;"><span aria-hidden="true">‚Ä¢</span> <kbd>Ctrl+S</kbd> or <kbd>‚åò+S</kbd> <span aria-label="hyphen">-</span> Save to browser</li>
                <li style="padding: 0.25rem 0;"><span aria-hidden="true">‚Ä¢</span> <kbd>Ctrl+L</kbd> or <kbd>‚åò+L</kbd> <span aria-label="hyphen">-</span> Load from browser</li>
                <li style="padding: 0.25rem 0;"><span aria-hidden="true">‚Ä¢</span> <kbd>Ctrl+K</kbd> or <kbd>‚åò+K</kbd> <span aria-label="hyphen">-</span> Copy share link</li>
            </ul>
        </section>

        <footer role="contentinfo">
            <p>All data is stored in the URL - no backend, no tracking, complete privacy.</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
